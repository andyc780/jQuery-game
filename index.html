<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- The welcome menu that lets you choose the difficultyu of the game and start it. -->
    <div class="intro-menu">
        <div class="intro-items">
            <h1>Blitz Clicker</h1>
            <h2>Choose Difficulty</h2>
            <div class="difficulty">
                <button class="normal-button">Normal</button>
                <button class="expert-button">Expert</button>
            </div>
            <div class="difficulty-message"></div>
            <br>
            <button class="submit">Start Game</button>
        </div>
    </div>

    <!-- The menu when the game is over, displays the final score and other statistics. -->
    <div class="game-over-menu">
        <div class="game-over-items">
            <h1 class="over-title">Game Over!</h1>
            <h2 class="final-score">Your Final Score: -</h2>
            <div class="acc-game-over">
                <h4 class="g-acc">Accuracy -%</h4> <h4 class="raw-acc">Raw Score: -</h4>
            </div>
            <h3>Powerups Obtained:</h3>
            <h3 class ="time-elapsed">Time Survived: -:-:-.-</h3>
            <div class="end-quote"><em>"Random End Quote Here. Resistance is futile, rest easy now."</em></div>
            <div class="restart-button">
                <button class="restart">Restart Game</button>
            </div>
        </div>
    </div>

    <!-- When you pause the game, this menu will show up. -->
    <div class="pause-menu">
        <div class="pause-items">
            <h1>Game Paused!</h1>
            <div class="game-buttons pause-spacer">
                <button class="resume">Resume Game</button>
                <button class="end-game">End Game</button>
            </div>
        </div>
    </div>
    <!-- Hidden area that will display the countdown in the middle of the screen -->
    <div class="countdown-area">
        Get Ready!
    </div>
    
    <!-- The entire game board for the normal selected difficulty. -->
     <!-- Each will have their own grid and statistics chart. -->
    <div class="spacing-container container">
        <div class="main-grid-container-normal">
            <div class="row-1">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-2">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-3">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-4">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-5">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
         </div>
         <div class="statistics-container normal-stat">
            <div class="stats">
                <h3 class="score">Score:<span style = "color:#2eb8b5"> 0 </span></h3>
                <h3 class="acc">Accuracy:<span style = "color:#429820">100.00% </span></h3>
                <h3 class="hp">Health: <span style ="color:#ec4048">-- HP</span></h3>
                <h3 class="time-elapsed">Time Elapsed:  <span style = "color:#eba442">0:0:0.0 </span></h3> <!-- hrs:mins:secs.ms format of time elasped-->
                <div class="game-buttons">
                    <button class="pause">Pause (P)</button>
                    <button class="end-game">End Game (esc)</button>
                </div>
            </div>
            <div class="effects-container">
                <h3>Effects</h3>
            </div>
        </div>
    </div>

    <!-- The entire game board for the expert difficulty.
    All statistics are the same from normal, just reduced hp. -->
    <div class="spacing-container container">
        <div class="main-grid-container-expert">
            <div class="row-1">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-2">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-3">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-4">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-5">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
            <div class="row-6">
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
                <button> </button>
            </div>
        </div>
        <div class="statistics-container expert-stat">
            <div class="stats">
                <h3 class="score"> Score:<span style = "color:#2eb8b5"> 0 </span></h3>
                <h3 class="acc">Accuracy:<span style = "color:#429820">100.00% </span></h3>
                <h3 class="hp">Health: <span style ="color:#ec4048">-- HP</span></h3>
                <h3 class="time-elapsed">  Time Elapsed: <span style = "color:#eba442">0:0:0.0</span></h3> <!-- hrs:mins:secs.ms format of time elasped-->
                <div class="game-buttons">
                    <button class="pause">Pause (P)</button>
                    <button class="end-game">End Game (esc)</button>
                </div>
            </div>
            <div class="effects-container">
                <h3>Current Effects</h3>
            </div>
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>
    // welcome to all of my pain and suffering inside of this file, good luck going through it.


    $(".game-over-menu").hide();
    $(".statistics-container").hide();
    $(".main-grid-container-normal").hide();
    $(".main-grid-container-expert").hide();
    $(".pause-menu").hide();
    $(".countdown-area").hide();
    $(document).ready(function(){
        // $(".intro-menu").hide();
        // intitalize variables for the game
        // Normal difficulty will be default if the user does not interact with any of the buttons
        let difficulty = "normal";
        let timerElapsed;
        let timer;
        let score = 0;
        let accuracyBuffer = 10; // adds some leniency to the accuracy calculation 
        let totalCount = 0 + accuracyBuffer;
        let misses = 0;
        let accuracy = 1;
        let health;
        let maxHealth;
        let temp;
        let inGame = false;
        
        // slide in animation for the menu when the document is ready
        $(".intro-menu").css({
            top: '48%',
            opacity: 0
        }).animate({
            top: '50%',
            opacity: 1
        },1000);


        $(".normal-button").on("click", function(){
            difficulty = "normal";
            $('.intro-menu').css({
                backgroundColor: '#ebdf8a',
                color: '#333',
            }); 
            
            $(".difficulty-message").html('<em>"For those that are willing to embark on an ordinary path.</em>');
            $(".difficulty-message").fadeOut(0);
            $(".difficulty-message").fadeIn(750);
        });
        $(".expert-button").on("click", function(){
            difficulty = "expert";
            $('.intro-menu').css({
                backgroundColor: '#a10b1a',
                color: '#f2bbbb',
                
            });
            $(".difficulty-message").html('<em>"Strength is futile in the midst of chaos and destruction."</em');
            $(".difficulty-message").fadeOut(0);
            $(".difficulty-message").fadeIn(750);
        });

        $(".submit").on("click", function(){
            $(".intro-menu").fadeOut(300);
            if(difficulty == "normal"){
                $(".main-grid-container-normal").fadeIn(1000);
                $(".normal-stat").fadeIn(1000);
            }
            else if(difficulty == "expert")
            {
                $(".main-grid-container-expert").fadeIn(1000);
                $(".expert-stat").fadeIn(1000);
            }
            startCountDown();
        });

        $('.end-game').on("click", function(){
            clearInterval(timerElapsed);
            clearInterval(timer);
            inGame = false; // prevent pause from being clicked again
            $(".pause-menu").fadeOut(500);
            $(".over-title").html("Game Ended Early");
            $(".container").fadeOut(500);
            $(".game-over-menu").delay(1000).fadeIn(1000);
            $(".final-score").html("Your Final Score: " + (score * (accuracy / 100)).toFixed(1));
            $(".g-acc").html("Accuracy: " + accuracy + "%");
            $(".raw-acc").html("Raw Score: " + score);
            $(".time-elapsed").html("Time Elapsed: " + hours + ":" + minutes + ":" + seconds + "." + miliseconds);
        });
        // Pause when the 
        $(document).on("keydown", function(e) {
            if (e.key.toLowerCase() === "p" && inGame) {
                {
                    temp = health; // store the current health so we can restore it when resuming the game
                    health = 100; // prevent death from the last set of fading blocks that may reduce health
                    $(".hp").html('<h4>Health: <span style="color:#ec4048"> 100 HP</span></h4>'); // update the health to 1000 so it doesn't show 0 when paused
                    clearInterval(timerElapsed);
                    clearInterval(timer);
                    $(".container").animate({
                        opacity: 0.25
                    });
                    $(".pause-menu").fadeIn(300)
                    $(".pause-menu").css({
                        zIndex: 2
                    });
                    $(".container").css("pointer-events", "none"); // make the game board unable to be cliked when paused
                }
            }
        });
        $(".pause").on("click", function(){
            temp = health; // store the current health so we can restore it when resuming the game
            health = 100; // prevent death from the last set of fading blocks that may reduce health
            $(".hp").html('<h4>Health: <span style="color:#ec4048"> 100 HP</span></h4>'); // update the health to 1000 so it doesn't show 0 when paused
            clearInterval(timerElapsed);
            clearInterval(timer);
            $(".container").animate({
                opacity: 0.25
            });
            $(".pause-menu").fadeIn(300)
            $(".pause-menu").css({
                zIndex: 2
            });
            $(".container").css("pointer-events", "none"); // make the game board unable to be cliked when paused
        });
        
        $(document).on("keydown", function(e) {
            if (e.key === "Escape" && inGame) {
                $(".end-game").click();
            }
        });
        $(".resume").on("click", function(){
            health = temp;
            $(".hp").html('<h4>Health: <span style="color:#ec4048"> ' + health + ' HP</span></h4>'); 
            clearInterval(timerElapsed);
            clearInterval(timer);
            setTimeout(function(){
                startGame(difficulty);
            },200);

            $(".container").css("pointer-events", "auto"); // make the game board clickable again
            $(".container").animate({
                opacity: 1
            });
            $(".pause-menu").fadeOut(300);
            $(".pause-menu").css({
                zIndex: -1
            });
        });

        $(".restart").on("click", function(){
            location.reload();
        });
    // all the painful logic is located starting down here. 
    // Timer function for the game, also recorded when the game ends.
        function startCountDown(){
            $(".countdown-area").fadeIn(700);
            let seconds = 4;
            let time;
            $(".container").css({
                pointerEvents: "none"
            });
            $(".container").animate({
                opacity: 0.5
            });
            time = setInterval(function(){
                seconds--;
                if(seconds == 0){
                    $(".countdown-area").fadeOut(200);
                    $(".container").css({
                        pointerEvents: "auto"
                    });
                    startGame(difficulty);
                    clearInterval(time);
                    $(".container").css({
                        opacity: 1
                    });
                }
                $(".countdown-area").html(seconds);
            }, 1000);
        }
        let miliseconds = 0;
        let seconds = 0;
        let minutes = 0;
        let hours = 0;
        function startTimer(){
            timerElapsed = setInterval(function(){
                miliseconds += 1;
                if(miliseconds == 10){
                    miliseconds = 0;
                    seconds += 1;
                }
                if(seconds == 60){
                    seconds = 0;
                    minutes += 1;
                }
                if(minutes == 60){
                    minutes = 0;
                    hours += 1;
                }   
                $(".time-elapsed").html('<h4>Time Elapsed: <span style="color:#eba442">' + hours + ':' + minutes + ':' + seconds + '.' + miliseconds + '</span></h4>');
            },100);
        }

        function effectTimer(event, name, duration){
            secs = duration
            effTimer = setInterval(function(){
                secs -= 1;
                if(secs <= 0){
                    clearInterval(effTimer);
                }
                $(event).html(name + " " + secs + "s");
            }, 1000);
        }

        // The main game starting function
        // all square button declaration here, will be changed depending on the difficulty.\
        let randomEffects = [
            "speedUp",
            "speedDown",
            "haze",
            "glassCannon",
            "shrink"
        ];
        // checking how many times an effect has triggered
        let speedUpCount = 0;
        let speedDownCount = 0;
        let hazeCount = 0;
        let glassCannonCount = 0;
        let shrinkCount = 0;

        let speedUpTimeout;
        let speedDownTimeout;
        let hazeTimeout;
        let glassCannonTimeout;
        let shrinkTimeout;

        let buttonEffects = [
            "good1",
            "good2",
            "good3",
            "good4",
            "bad1",
            "bad2",
            "bad3",
            "mystery",
            // "effect" // testing remove later
        ];
        let totalButtons;
        let cycleButtonAmount;
        let cycleTime;
        let buttons; // store button data based on difficulty later
        let delay;
        let glassCannonMultiplier = 1; // used for the glass cannon effect
        let baseSpeed;
        let effTimer;
        function startGame(difficulty){
            startTimer();
            inGame = true;
            if(difficulty == "normal"){
                health = 100 + 2000000;
                maxHealth = 100 + 2000000;
                $(".hp").html('<h4>Health: <span style="color:#ec4048"> ' + health + ' HP</span></h4>')
                totalButtons = 25;
                cycleButtonAmount = 8;
                cycleTime = 5000;
                baseSpeed = cycleTime;
                buttons = $(".main-grid-container-normal button"); // collect buttons
                

            } 
            if(difficulty == "expert"){
                health = 50;
                maxHealth = 50;
                $(".hp").html('<h4>Health: <span style="color:#ec4048"> ' + health + ' HP</span></h4>');
                totalButtons = 36;
                cycleButtonAmount = 18; // how many buttons can exists in a cycle. 
                cycleTime = 4500;
                baseSpeed = cycleTime;
                
                buttons = $(".main-grid-container-expert button"); // collect buttons
            }
            // select a couple buttons instantly when the game starts.
            selectRandomButtons(buttons, cycleButtonAmount);
            timer = setInterval(function(){
                selectRandomButtons(buttons, cycleButtonAmount);
            }, cycleTime);
        }

        let selectEffect;
        let hasEffect = false;
      
        function selectRandomButtons(buttons , cycleButtonAmount){
            let finalRandomButton = [];
            let selectSingleButton;

             // Roll a random chance for an effect to appear in this specific cycle.
             // If the chance is hit, it will reduce the cycleButtonAmount by 1 and instead replace it with the effect button
             // 10% chance per cycle for an effect to appear
            let chance = Math.floor(Math.random() * 11) + 1;
            if(true){
                hasEffect = true;
                selectEffect = randomEffects[Math.floor(Math.random() * randomEffects.length)];
            }
            for(let i = 0; i < cycleButtonAmount; i++){
                selectSingleButton = Math.floor(Math.random() * buttons.length);
                // finalRandomButton.push(selectSingleButton);
                if(finalRandomButton.includes(selectSingleButton)){
                    // checks for potential duplicates in the event the random number generator gets the same number. (will equal true)
                    // skips the array push entirely and start the loop iteraion over.
                    i--;
                } else {
                    // push data into the array.
                    finalRandomButton.push(selectSingleButton);
                }
            }
            // make the buttons fade in with css for a certain set amount of time, and then fade out.
            // if the buttons are clicked early, then the button will fade out and points will be awarded.
            // if the buttons are not clicked, then the button will fade out, accuracy and health will be deducted.
            // if the user clicks a random blank button, apply the same as above if they were not clicked.
            for(let i = 0; i < finalRandomButton.length; i++){
                // Assign random classes to the buttons for the game.
                let randomSquare = buttonEffects[Math.floor(Math.random() * buttonEffects.length)];
                let button = $(buttons[finalRandomButton[i]]);
                if (hasEffect) {
                    button.attr('id', 'effect');
                    hasEffect = false;
                }
                else{
                    button.attr('id', randomSquare);
                }
                // when a button is clicked
                button.on("click", function(){
                    if (button.attr('id') == 'effect') {
                        console.log(selectEffect); // remove later

// The effects logic needs to be fixed, mainly in the if statements.

                        for (let i = 0; i < randomEffects.length; i++) {
                            if (randomEffects[i] === selectEffect) {
                                switch (selectEffect) {
                                    case "speedUp":
                                        speedUpCount++;
                                        if (speedUpCount > 1) {
                                            clearTimeout(speedUpTimeout);
                                            clearInterval(effTimer);
                                            effectTimer(".speedUp", "Speed Up:", 20);
                                            speedUpTimeout = setTimeout(function() {
                                                cycleTime = baseSpeed; // return to normal speed after 20 seconds
                                                speedUpCount = 0;
                                                $(".effects-container").find(".speedUp").remove(); // removes after the 20 seconds
                                            }, 20000);
                                            break;
                                        } 
                                        cycleTime = cycleTime - (cycleTime * 0.5); // 25% faster
                                        $(".effects-container").append('<h4 class="speedUp">Speed Up: 20s</h4>');
                                        effectTimer(".speedUp", "Speed Up:", 20);
                                        speedUpTimeout = setTimeout(function() {
                                            cycleTime = baseSpeed; // return to normal speed after 20 seconds
                                            speedUpCount = 0;
                                            $(".effects-container").find(".speedUp").remove();
                                        }, 20000);
                                        break;

                                    case "speedDown":
                                        speedDownCount++;
                                        if (speedDownCount > 1) {
                                            clearTimeout(speedDownTimeout);
                                            clearInterval(effTimer);
                                            effectTimer(".speedDown", "Speed Down:", 20);
                                            speedDownTimeout = setTimeout(function() {
                                                cycleTime = baseSpeed; // reset to normal speed after 20 seconds
                                                speedDownCount = 0;
                                                $(".effects-container").find(".speedDown").remove();
                                            }, 20000);
                                            break;
                                        }
                                        cycleTime = cycleTime + (cycleTime * 0.5); // 50% slower
                                        $(".effects-container").append('<h4 class="speedDown">Speed Down: 20s</h4>');
                                        effectTimer(".speedDown", "Speed Down:", 20);
                                        speedDownTimeout = setTimeout(function() {
                                            cycleTime = baseSpeed; // reset to normal speed after 20 seconds
                                            speedDownCount = 0;
                                            $(".effects-container").find(".speedDown").remove();
                                        }, 20000);
                                        break;
                                    case "haze":
                                        hazeCount++;
                                        if (hazeCount > 1) {
                                            clearTimeout(hazeTimeout);
                                            clearInterval(effTimer);
                                            effectTimer(".haze", "Haze:", 15);
                                            hazeTimeout = setTimeout(function() {
                                                $(".container").css("opacity", 1);
                                                hazeCount = 0;
                                                $(".effects-container").find(".haze").remove();
                                            }, 15000);
                                            break;
                                        }   
                                        $(".container").css("opacity", 0.5);
                                        $(".effects-container").append('<h4 class="haze">Haze: 15s</h4>');
                                        effectTimer(".haze", "Haze:", 15);
                                        hazeTimeout = setTimeout(function() {
                                            $(".container").css("opacity", 1);
                                            $(".effects-container").find(".haze").remove();
                                            hazeCount = 0;
                                        },15000);
                                        break;
                                    case "glassCannon":
                                        glassCannonCount++;
                                        if (glassCannonCount > 1) {
                                            clearTimeout(glassCannonTimeout);
                                            clearInterval(effTimer);
                                            effectTimer(".glassCannon", "Glass Cannon:", 15);
                                            glassCannonTimeout = setTimeout(function() {
                                                glassCannonMultiplier = 1;
                                                $(".effects-container").find(".glassCannon").remove();
                                                glassCannonCount = 0;
                                            }, 15000);
                                            break;
                                        }
                                        glassCannonMultiplier = 2;
                                        $(".effects-container").append('<h4 class="glassCannon">Glass Cannon: 15s</h4>');
                                        effectTimer(".glassCannon", "Glass Cannon:", 15);
                                        setTimeout(function() {
                                            glassCannonMultiplier = 1;
                                            $(".effects-container").find(".glassCannon").remove();
                                            glassCannonCount = 0;
                                        }, 15000);
                                        break;
                                    case "shrink":
                                        shrinkCount++;
                                        if (shrinkCount > 1) {
                                            clearTimeout(shrinkTimeout);
                                            clearInterval(effTimer);
                                            effectTimer(".shrink", "Shrink:", 15);
                                            shrinkTimeout = setTimeout(function() {
                                                $(".main-grid-container-normal button, .main-grid-container-expert button").css("scale", "1");
                                                $(".effects-container").find(".shrink").remove();
                                                shrinkCount = 0;
                                            }, 15000);
                                            break;
                                        }
                                        $(".main-grid-container-normal button, .main-grid-container-expert button").css("scale", "0.75");
                                        $(".effects-container").append('<h4 class="shrink">Shrink: 15s</h4>');
                                        effectTimer(".shrink", "Shrink:", 15);
                                        shrinkTimeout = setTimeout(function() {
                                            $(".main-grid-container-normal button, .main-grid-container-expert button").css("scale", "1");
                                            $(".effects-container").find(".shrink").remove();
                                            shrinkCount = 0;
                                        }, 15000);
                                        break;
                                }
                            }
                        }
                        button.removeAttr('id').off("click"); // remove the attribute right after the button is clicked. (.off) will make it no longer responsive to prevent spamming
                        return; // exit the function early
                    }
                    $(this).removeAttr('id').off("click"); // remove the attribute right after the button is clicked. (.off) will make it no longer responsive to prevent spamming
                    // checks which square was clicked gives the appropriate score and health.
                    switch(randomSquare) {
                        case "good1":
                            score += 1 * glassCannonMultiplier;
                            if(health < maxHealth && (health + 0.5) < maxHealth){
                                health += 0.5;
                            }
                            else{
                                health += (maxHealth - health);
                            }
                            break;
                        case "good2":
                            score += 2 * glassCannonMultiplier;
                            if(health < maxHealth && (health + 0.5) < maxHealth){
                                health += 0.5;
                            }
                            else{
                                health += (maxHealth - health);
                            }                            
                            break;
                        case "good3":
                            score += 5 * glassCannonMultiplier;
                            if(health < maxHealth && (health + 0.5) < maxHealth){
                                health += 0.5;
                            }
                            else{
                                health += (maxHealth - health);
                            }
                            break;  
                        case "good4":
                            score += 8 * glassCannonMultiplier;
                            if(health < maxHealth && (health + 1) < maxHealth){
                                health += 1;
                            }
                            else{
                                health += (maxHealth - health);
                            }
                            break;
                        case "bad1":
                            score -= 3 * glassCannonMultiplier;
                            misses++;
                            health -= 5 * glassCannonMultiplier;
                            break;
                        case "bad2":
                            score -= 5 * glassCannonMultiplier;
                            misses++;
                            health -= 7 * glassCannonMultiplier;
                            break;
                        case "bad3":
                            score -= 10 * glassCannonMultiplier;
                            misses++;
                            health -= 10 * glassCannonMultiplier;
                            break;
                        case "mystery":
                            let randomScore = Math.floor(Math.random() * 31) - 15; // random number between -15 and 15
                            let randomHealth = Math.floor(Math.random() * 8) - 5; // random number between -5 and 2
                            score += randomScore;
                            health += randomHealth;
                            if(health < maxHealth && (health + randomHealth) < maxHealth){
                                health += randomHealth;
                            }
                            else{
                                health += (maxHealth - health);
                            }
                            break;
                    }
                    totalCount++;
                    accuracy = ((totalCount - misses) / totalCount * 100).toFixed(2);
                    $(".score").html('<h4>Score: <span style="color:#2eb8b5">' + score + '</span></h4>');
                    $(".acc").html('<h4>Accuracy: <span style="color:#429820">' + accuracy + '%</span></h4>');
                    $(".hp").html('<h4>Health: <span style="color:#ec4048"> ' + health + ' HP</span></h4>');
                    if(health <= 0){
                        inGame = false;
                        clearInterval(timerElapsed);
                        clearInterval(timer);
                        $(".container").fadeOut(500);
                        $(".game-over-menu").delay(1000).fadeIn(1000);
                        $(".over-title").html("Game Over!");
                        $(".final-score").html("Your Final Score: " + (score * (accuracy / 100)).toFixed(1));
                        $(".g-acc").html("Accuracy: " + accuracy + "%");
                        $(".raw-acc").html("Raw Score: " + score);
                        $(".time-elapsed").html("Time Elapsed: " + hours + ":" + minutes + ":" + seconds + "." + miliseconds);
                    }
                });
    
                // Fade out the buttons after a certain set amount of time
                delay = setTimeout(function(){
                    // If a good button was not clicked before this timeout function occurs, health will be reduced and so as accuracy.
                    if (button.attr('id') && button.attr('id').includes('good')) {
                        health -= 3;
                        totalCount++;
                        misses++;
                        accuracy = ((totalCount - misses) / totalCount * 100).toFixed(2);
                        $(".hp").html('<h4>Health: <span style="color:#ec4048"> ' + health + ' HP</span></h4>');
                        $(".acc").html('<h4>Accuracy: <span style="color:#429820">' + accuracy + '%</span></h4>');
                        if (health <= 0) {
                            inGame = false;
                            clearInterval(timerElapsed);
                            clearInterval(timer);
                            $(".container").fadeOut(500);
                            $(".game-over-menu").delay(1000).fadeIn(1000);
                            $(".over-title").html("Game Over!");
                            $(".final-score").html("Your Final Score: " + (score * (accuracy / 100)).toFixed(1));
                            $(".g-acc").html("Accuracy: " + accuracy + "%");
                            $(".raw-acc").html("Raw Score: " + score);
                            $(".time-elapsed").html("Time Elapsed: " + hours + ":" + minutes + ":" + seconds + "." + miliseconds);
                        }
                    }
                    button.removeAttr('id').off("click"); // prevent clicking using .off
                }, (cycleTime - (cycleTime * 0.1)));
             }
        }
});

</script>
</html>                                 